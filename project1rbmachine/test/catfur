<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>猫毛飞舞背景</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    overflow: hidden;
    height: 100%;
    background: #1a1a1a; /* 背景色可以换 */
  }
  canvas {
    display: block;
  }
</style>
</head>
<body>
<canvas id="catHairCanvas"></canvas>

<script>
const canvas = document.getElementById('catHairCanvas');
const ctx = canvas.getContext('2d');

let width = canvas.width = window.innerWidth;
let height = canvas.height = window.innerHeight;

window.addEventListener('resize', () => {
  width = canvas.width = window.innerWidth;
  height = canvas.height = window.innerHeight;
  initParticles();
});

// 粒子数组
let particles = [];
const PARTICLE_COUNT = 400;

// 初始化粒子
function initParticles() {
  particles = [];
  for(let i=0; i<PARTICLE_COUNT; i++){
    particles.push({
      x: Math.random() * width,
      y: Math.random() * height,
      vx: Math.random() * 0.5 - 0.25, // 左右轻微移动
      vy: Math.random() * 1 + 0.2,    // 下落速度
      length: Math.random() * 20 + 10, // 毛长度
      angle: Math.random() * Math.PI * 2,
      alpha: Math.random() * 0.6 + 0.4,
      color: `rgba(255, ${Math.floor(Math.random()*200 + 100)}, ${Math.floor(Math.random()*150)}, `
    });
  }
}

// 绘制粒子
function drawParticles() {
  ctx.clearRect(0,0,width,height);
  for(let p of particles){
    // 绘制毛发线条
    ctx.beginPath();
    ctx.moveTo(p.x, p.y);
    ctx.lineTo(
      p.x + Math.cos(p.angle) * p.length,
      p.y + Math.sin(p.angle) * p.length
    );
    ctx.strokeStyle = p.color + p.alpha + ')';
    ctx.lineWidth = 1;
    ctx.stroke();

    // 更新位置
    p.x += p.vx;
    p.y += p.vy;
    p.angle += (Math.random() * 0.1 - 0.05); // 毛发轻微抖动

    // 超出画布则重置
    if(p.y > height || p.alpha <= 0){
      p.x = Math.random() * width;
      p.y = -10;
      p.alpha = Math.random() * 0.6 + 0.4;
    }
    // 边界水平循环
    if(p.x > width) p.x = 0;
    if(p.x < 0) p.x = width;
  }
}

// 动画循环
function animate(){
  drawParticles();
  requestAnimationFrame(animate);
}

initParticles();
animate();
</script>
</body>
</html>
